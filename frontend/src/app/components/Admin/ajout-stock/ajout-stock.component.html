<div class="stock-container">
  <!-- Section Ajouter un Stock -->
  <div class="form-section">
    <h2>Ajouter un Stock</h2>
    <form [formGroup]="stockForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <input formControlName="quantite" type="number" placeholder="Quantité" required />
      </div>
      <div class="form-group">
        <input formControlName="prixAchat" type="number" placeholder="Prix d'achat" required />
      </div>
      <div class="form-group">
        <input formControlName="prixVente" type="number" placeholder="Prix de vente" required />
      </div>
      <div class="form-group">
        <input formControlName="fournisseur" placeholder="Fournisseur" required />
      </div>
      <div class="form-group">
        <input formControlName="dateAchat" type="date" required />
      </div>
      <div class="form-group">
        <select formControlName="article" required>
          <option *ngFor="let article of articles" [value]="article._id">
            {{ article.nomArticle }}
          </option>
        </select>
      </div>
      <button type="submit" class="btn-submit">Ajouter</button>
    </form>
  </div>

  <hr />

  <!-- Section des deux listes côte à côte -->
  <div class="lists-container">
    <!-- Liste des Stocks -->
    <div class="list-section">
      <h2>Liste des ajouts en stock</h2>
      <table class="stock-table">
        <thead>
          <tr>
            <th>Article</th>
            <th>Quantité</th>
            <th>Prix Achat</th>
            <th>Prix Vente</th>
            <th>Fournisseur</th>
            <th>Date Achat</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stock of stocks">
            <td>{{ stock.article.nomArticle }}</td>
            <td>{{ stock.quantite }}</td>
            <td>{{ stock.prixAchat | number:'1.0-0' }}</td>
            <td>{{ stock.prixVente | number:'1.0-0' }}</td>
            <td>{{ stock.fournisseur }}</td>
            <td>{{ stock.dateAchat | date }}</td>
            <td>
              <div class="btn-group">
                <button (click)="editStock(stock._id)" class="btn-edit">Modifier</button>
                <button (click)="deleteStock(stock._id)" class="btn-delete">Supprimer</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Liste des stocks disponibles -->
    <div class="list-section">
      <h2>Stock disponible</h2>
      <table class="stock-table">
        <thead>
          <tr>
            <th>Article</th>
            <th>Catégorie</th>
            <th>Quantité disponible</th>
            <th>Prix Achat</th>
            <th>Prix Vente</th>
            <th>Fournisseur</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stock of stockData">
            <td>{{ stock.article.nomArticle }}</td>
            <td>{{ stock.categorie.nomCategorie }}</td>
            <td>{{ stock.totalQuantite }}</td>
            <td>{{ stock.prixAchat | number:'1.0-0' }} MGA</td>
            <td>{{ stock.prixVente | number:'1.0-0' }} MGA</td>
            <td>{{ stock.fournisseur }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  
  </div>
</div>
